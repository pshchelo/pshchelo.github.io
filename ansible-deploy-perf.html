
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://pshchelo.github.io/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark)"
    href="https://pshchelo.github.io/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark)"
          href="https://pshchelo.github.io/theme/pygments/solarized-light.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"
          href="https://pshchelo.github.io/theme/pygments/solarized-light.min.css">


  <link rel="stylesheet" type="text/css" href="https://pshchelo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://pshchelo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://pshchelo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://pshchelo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Bits and Pieces Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">



<meta name="author" content="pshchelo" />
<meta name="description" content="Comparative performance testing of ansible-deploy and agent ironic drivers" />
<meta name="keywords" content="openstack, ironic, ansible, deploy">


<meta property="og:site_name" content="Bits and Pieces"/>
<meta property="og:title" content="Performance testing of Ansible-deploy driver for OpenStack Ironic"/>
<meta property="og:description" content="Comparative performance testing of ansible-deploy and agent ironic drivers"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://pshchelo.github.io/ansible-deploy-perf.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-09-01 00:00:00+03:00"/>
<meta property="article:modified_time" content="2024-05-27 00:00:00+03:00"/>
<meta property="article:author" content="https://pshchelo.github.io/author/pshchelo.html">
<meta property="article:section" content="work"/>
<meta property="article:tag" content="openstack"/>
<meta property="article:tag" content="ironic"/>
<meta property="article:tag" content="ansible"/>
<meta property="article:tag" content="deploy"/>
<meta property="og:image" content="/images/avatar.jpg">

  <title>Bits and Pieces &ndash; Performance testing of Ansible-deploy driver for OpenStack Ironic</title>

</head>
<body >
  <aside>
    <div>
      <a href="https://pshchelo.github.io">
        <img src="/images/avatar.jpg" alt="" title="">
      </a>

      <h1>
        <a href="https://pshchelo.github.io"></a>
      </h1>



      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://pshchelo.github.io/pages/about-me.html#about-me">
                  About Me
                </a>
              </li>

            <li>
              <a target="_self" href="http://python.org/" >Python</a>
            </li>
            <li>
              <a target="_self" href="http://www.openstack.org/" >OpenStack</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/pshchelo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-bitbucket" href="https://bitbucket.org/pshchelo" target="_blank">
              <i class="fab fa-bitbucket"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/pshchelo" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/pshchelo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="https://pshchelo.github.io">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://pshchelo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="ansible-deploy-perf">Performance testing of Ansible-deploy driver for OpenStack Ironic</h1>
    <p>
      Posted on Fri 01 September 2017 in <a href="https://pshchelo.github.io/category/work.html">work</a>

    </p>
  </header>


  <div>
    <div class="section" id="what-and-why-are-we-testing">
<h2>What and why are we testing</h2>
<p>For more than a year me and my colleagues are developing and promoting a new
deploy driver interface for OpenStack ironic service.
Contrary to the standard <tt class="docutils literal">direct</tt> or <tt class="docutils literal">iscsi</tt> deploy interfaces that depend
on <tt class="docutils literal"><span class="pre">ironic-python-agent</span></tt> service (IPA) running in the deploy ramdisk,
this new <tt class="docutils literal">ansible</tt> deploy interface is using Ansible to provision the node,
with the steps to execute during provisioning or cleaning defined as Ansible
playbooks/roles/tasks <em>etc</em>.
The main advantage of this approach is greater flexibility regarding
fine-tuning of the provisioning process this deploy interface allows.</p>
<p>This <tt class="docutils literal">ansible</tt> deploy interface and classic ironic drivers using it are
already available as part of <tt class="docutils literal"><span class="pre">ironic-staging-driver</span></tt> project <a class="footnote-reference" href="#footnote-1" id="footnote-reference-1">[1]</a>,
and we are in the process of proposing <a class="footnote-reference" href="#footnote-2" id="footnote-reference-2">[2]</a> to include this interface
to the ironic project itself.</p>
<p>One of the topics raised during discussions is the performance
of this new driver interface.
Contrary to the <tt class="docutils literal">direct</tt> deploy interface that offloads most of the work
to be executed by IPA that runs on the node being provisioned,
this new interface involves executing code on the side of ironic-conductor
service, thus we were asked to show that the <tt class="docutils literal">ansible</tt> deploy interface
can cope with deploying several nodes in parallel (50 at least) without severe
performance degradation on the side of ironic-conductor service/host.</p>
</div>
<div class="section" id="testbed">
<h2>Testbed</h2>
<p>Lab setup and tests were performed by my colleague Vasyl Saienko <a class="footnote-reference" href="#footnote-3" id="footnote-reference-3">[3]</a>,
with me mostly consulting on setting up and tuning the <tt class="docutils literal">ansible</tt> deploy
interface and Ansible itself.</p>
<p>The lab consisted of 4 baremetal nodes with the following relevant stats:</p>
<dl class="docutils">
<dt>1x ironic host</dt>
<dd><strong>CPU</strong>: Intel(R) Xeon(R) CPU E5-2620, 32 cores,
<strong>RAM</strong>: 32GB</dd>
<dt>3x enrolled into ironic</dt>
<dd><strong>CPU</strong>: Intel(R) Xeon(R) CPU E5-2650, 32 cores
<strong>RAM</strong>: 64GB</dd>
</dl>
<p>We have deployed a minimal single host ironic installation as of 7.0.2 version
(Ocata release) on the ironic host node using Mirantis Cloud Platform 1.1 <a class="footnote-reference" href="#footnote-4" id="footnote-reference-4">[4]</a>.
The Ansible-deploy interface was taken from <tt class="docutils literal"><span class="pre">ironic-staging-drivers</span></tt> project
as of stable/ocata branch.
The deployment also included OpenStack Identity (keystone)
and Networking (neutron) services, also of Ocata release.</p>
<p>We used Ansible 2.3.2.0 <tt class="docutils literal">pip</tt>-installed from PyPI.</p>
<p>We enrolled the 3 slave baremetal nodes in ironic,
deployed them with Ubuntu Xenial image,
created 100 VMs on each of them, and enrolled those to ironic using
<tt class="docutils literal">virtualbmc</tt> utility to simulate IPMI-capable hardware nodes.
This effectively gave us 300 ironic nodes to test deployment on.</p>
<p>Overall order of the tests was the following:</p>
<ol class="arabic simple">
<li><tt class="docutils literal">pxe_ipmitool_ansible</tt> driver, deploy 50 nodes, repeat 3 times</li>
<li><tt class="docutils literal">agent_ipmitool</tt> driver, deploy 50 nodes, repeat 3 times</li>
<li><tt class="docutils literal">agent_ipmitool</tt> driver, deploy 100 nodes, repeat 3 times</li>
<li><tt class="docutils literal">pxe_ipmitool_ansible</tt> driver, deploy 100 nodes, repeat 3 times</li>
</ol>
<p>The deploy ramdisk used for both drivers was the <tt class="docutils literal">tinyipa</tt> image
as of stable/ocata rebuilt for usage with <tt class="docutils literal">ansible</tt> deploy interface.
We provisioned nodes with standard Ubuntu Xenial cloud image.</p>
<p>Concurrent deployment was done via trivial bash script calling ironic client
commands in a <tt class="docutils literal">for</tt> loop.
For each iteration &quot;virtual&quot; nodes to be provisioned were chosen
to be equally distributed between real baremetal nodes
to decrease possible congestion.</p>
<p>Monitoring was performed with Cacti, with results presented and discussed below.</p>
<div class="section" id="lab-tuning">
<h3>Lab tuning</h3>
<ol class="arabic simple">
<li>The static image store was moved outside of ironic node<ul>
<li>due to physical network layout of the lab,
this separate storage had better connection speed with baremetal nodes,
and thus was performing better</li>
</ul>
</li>
<li>The timeout for downloading the image <a class="footnote-reference" href="#footnote-5" id="footnote-reference-5">[5]</a> was increased.<ul>
<li>Current hard-coded value is more suitable for small <tt class="docutils literal">cirros</tt> image
used in OpenStack CI,
and turned out to be not sufficient for downloading the image
we were using given performance of our image store</li>
<li>We plan to make such values actually configurable later</li>
</ul>
</li>
<li>We switched Ansible to use <tt class="docutils literal">paramiko</tt> transport instead of the default
<tt class="docutils literal">smart</tt> <a class="footnote-reference" href="#footnote-6" id="footnote-reference-6">[6]</a><ul>
<li>We experienced weird problems with SSH timeouts both on initial connection
and when executing tasks.</li>
<li>There are number of bugs reported against Ansible that might be relevant,
<em>e.g.</em> <a class="footnote-reference" href="#footnote-7" id="footnote-reference-7">[7]</a>.</li>
<li>Using <tt class="docutils literal">paramiko</tt> for SSH may have introduced an extra performance cost
compared to the native SSH binaries.</li>
</ul>
</li>
<li>We increased the <tt class="docutils literal">internal_poll_interval</tt> Ansible configuration setting
<a class="footnote-reference" href="#footnote-8" id="footnote-reference-8">[8]</a> to <tt class="docutils literal">0.01</tt> (from default <tt class="docutils literal">0.001</tt>).<ul>
<li>Available since Ansible 2.2, this setting was specifically introduced for
better CPU-wise performance of Ansible in use-cases that do not require
responsiveness of <tt class="docutils literal"><span class="pre">ansible-playbook</span></tt> process console output.</li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section" id="results-and-discussion">
<h2>Results and discussion</h2>
<div class="section" id="nodes-per-driver">
<h3>Nodes per driver</h3>
<p>This plot shows the number of nodes registered per each driver
to set time frame reference for further graphs.</p>
<img alt="Nodes per driver" class="align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/node-by-driver100.png" />
<p>And we immediately see one of the troubles we stumbled upon - the dips in the
second graph around 10:35 and 11:30.
These graphs were plotted by Cacti periodically polling the ironic API
for number of nodes - and at these points requests simply timed out.
It happened for both drivers, so we tend to attribute this to the fact that
ironic API was running as the <strong>eventlet sever</strong> instead of WSGI behind a more
robust webserver (Note that running ironic as WSGI app was not yet officially
supported in Ocata release).</p>
</div>
<div class="section" id="nodes-by-state">
<h3>Nodes by state</h3>
<p>This plot shows the number of nodes in either &quot;deploying/wait-callback&quot;
or &quot;active&quot; state.</p>
<img alt="Active vs being deployed nodes" class="align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/ironic-nodes100.png" />
</div>
<div class="section" id="ironic-host-performance-stats">
<h3>Ironic host performance stats</h3>
<div class="section" id="batches-of-50">
<h4>Batches of 50</h4>
<dl class="docutils">
<dt>CPU usage</dt>
<dd><img alt="CPU usage, batches of 50" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/cpu-usage.png" />
</dd>
<dt>Load average</dt>
<dd><img alt="System load, batches of 50" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/load-average.png" />
</dd>
<dt>Memory usage</dt>
<dd><img alt="Memory usage, batches of 50" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/memory-usage.png" />
</dd>
<dt>TCP counters</dt>
<dd><img alt="TCP counters, batches of 50" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/tcp-counters.png" />
</dd>
</dl>
<p>The sharp spikes in CPU utilization are well attributed to the TFTP server
serving multiple concurrent requests.</p>
<p>We also see that using <tt class="docutils literal">ansible</tt> deploy interface consumes more CPU
(about 3% at peaks) and more RAM (about 3 GB) than agent-deploy.
This is due to the task execution engine (Ansible) is being run locally on
conductor instead of remotely on the node being deployed (IPA).</p>
<p>Nevertheless the overall time to provision all nodes and the average CPU load
is nearly the same,
and the toll multiple Ansible processes take on the conductor node
is well within of what a real server suitable for such scaled baremetal cloud
can handle.</p>
</div>
<div class="section" id="overall-test-both-50-and-100-batches">
<h4>Overall test (both 50 and 100 batches)</h4>
<dl class="docutils">
<dt>CPU usage</dt>
<dd><img alt="CPU usage, total (batches of 50 and 100)" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/cpu-usage100.png" />
</dd>
<dt>Load average</dt>
<dd><img alt="System load, total (batches of 50 and 100)" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/load-average100.png" />
</dd>
<dt>Memory usage</dt>
<dd><img alt="Memory usage, total (batches of 50 and 100)" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/memory-usage100.png" />
</dd>
<dt>TCP counters</dt>
<dd><img alt="TCP counters, total (batches of 50 and 100)" class="first last align-center" src="https://pshchelo.github.io/images/ansible-deploy-performance/tcp-counters100.png" />
</dd>
</dl>
<p>As expected, using <tt class="docutils literal">direct</tt> driver interface scales better whith increasing
the number of nodes and is close to <tt class="docutils literal">O(1)</tt>,
while overhead of using <tt class="docutils literal">ansible</tt> deploy interface scales closer to <tt class="docutils literal">O(n)</tt>
of number of nodes, especially for RAM consumption.</p>
<p>We tend to attribute such scaling difference to the fact
that current internal architecture of ironic does not allow us to use Ansible
as it was designed,
with one <tt class="docutils literal"><span class="pre">ansible-playbook</span></tt> process executing the same playbook with
identical input variables against several nodes.
Instead, we launch separate <tt class="docutils literal"><span class="pre">ansible-playbook</span></tt> process for each node
even when nodes are being provisioning with the same image and other settings,
which obviously has negative impact on resources used.</p>
<p>This difference has to be taken into account when planning an (under)cloud
ironic deployment that is going to allow usage the <tt class="docutils literal">ansible</tt> deploy interface.</p>
</div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>Overall we think that the <tt class="docutils literal">ansible</tt> deploy interface performs and scales
within acceptable limits on a quite standard server hardware.</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<table class="docutils footnote" frame="void" id="footnote-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-1">[1]</a></td><td><a class="reference external" href="http://git.openstack.org/cgit/openstack/ironic-staging-drivers/tree/ironic_staging_drivers/ansible">http://git.openstack.org/cgit/openstack/ironic-staging-drivers/tree/ironic_staging_drivers/ansible</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-2">[2]</a></td><td><a class="reference external" href="https://review.openstack.org/#/c/241946/">https://review.openstack.org/#/c/241946/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-3">[3]</a></td><td><a class="reference external" href="https://launchpad.net/~vsaienko">https://launchpad.net/~vsaienko</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-4">[4]</a></td><td><a class="reference external" href="https://www.mirantis.com/software/mcp/">https://www.mirantis.com/software/mcp/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-5">[5]</a></td><td><a class="reference external" href="http://git.openstack.org/cgit/openstack/ironic-staging-drivers/tree/ironic_staging_drivers/ansible/playbooks/roles/deploy/tasks/download.yaml?h=stable/ocata#n10">http://git.openstack.org/cgit/openstack/ironic-staging-drivers/tree/ironic_staging_drivers/ansible/playbooks/roles/deploy/tasks/download.yaml?h=stable/ocata#n10</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-6">[6]</a></td><td><a class="reference external" href="http://docs.ansible.com/ansible/latest/intro_configuration.html#transport">http://docs.ansible.com/ansible/latest/intro_configuration.html#transport</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-7">[7]</a></td><td><a class="reference external" href="https://github.com/ansible/ansible/issues/24035">https://github.com/ansible/ansible/issues/24035</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-8">[8]</a></td><td><a class="reference external" href="http://docs.ansible.com/ansible/latest/intro_configuration.html#internal-poll-interval">http://docs.ansible.com/ansible/latest/intro_configuration.html#internal-poll-interval</a></td></tr>
</tbody>
</table>
</div>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://pshchelo.github.io/tag/openstack.html">openstack</a>
      <a href="https://pshchelo.github.io/tag/ironic.html">ironic</a>
      <a href="https://pshchelo.github.io/tag/ansible.html">ansible</a>
      <a href="https://pshchelo.github.io/tag/deploy.html">deploy</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'pshchelo';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2024 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://pshchelo.github.io/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Bits and Pieces ",
  "url" : "https://pshchelo.github.io",
  "image": "/images/avatar.jpg",
  "description": ""
}
</script>
<a href="https://github.com/pshchelo/pshchelo.github.io" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>
</html>